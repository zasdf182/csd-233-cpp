#include "init.hpp"
namespace Main {

////////////////////////////////////////////////////////////////////////////////
/// @brief Initializes the main program's context object.
////////////////////////////////////////////////////////////////////////////////
ExitCode InitContext(Context* context) {
    context->wndRaster = cv::Mat(cv::Size(WND_WIDTH, WND_HEIGHT), GFX_PALETTE);
    context->wndUpdatePeriod = 4000;
    return ExitCode::drawGrid;
}

////////////////////////////////////////////////////////////////////////////////
/// @brief Deallocates memory.
////////////////////////////////////////////////////////////////////////////////
ExitCode CollectGarbage(Context* context) {
    delete context->grid;
    for (auto ptr : context->shapes) delete ptr;
    return ExitCode::NIL;
}
}
